<html>


<head>
    <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-auth.js"></script>
</head>

<head>

    <!--     Fonts and icons     -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
    <!-- Nucleo Icons -->
    <link href="assets/css/nucleo-icons.css" rel="stylesheet" />
    <link href="assets/css/nucleo-svg.css" rel="stylesheet" />
    <!-- Font Awesome Icons -->
    <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
    <link href="assets/css/nucleo-svg.css" rel="stylesheet" />
    <!-- CSS Files -->
    <link id="pagestyle" href="assets/css/soft-ui-dashboard.css?v=1.0.7" rel="stylesheet" />

    <!--   Core JS Files   -->
    <script src="assets/js/core/popper.min.js"></script>
    <script src="assets/js/core/bootstrap.min.js"></script>
    <script src="assets/js/plugins/perfect-scrollbar.min.js"></script>
    <script src="assets/js/plugins/smooth-scrollbar.min.js"></script>
    <script src="assets/js/plugins/chartjs.min.js"></script>
    <link href="assets/css/mdb.min.css" rel="stylesheet" />


    <script type="text/javascript" src="assets/js/bootstrap.min.js"></script>


</head>


<body>



    <style>
        .gradient-custom {
            /* fallback for old browsers */
            background: #6a11cb;

            /* Chrome 10-25, Safari 5.1-6 */
            background: -webkit-linear-gradient(to right, rgba(106, 17, 203, 1), rgba(37, 117, 252, 1));

            /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
            background: linear-gradient(to right, rgba(106, 17, 203, 1), rgba(37, 117, 252, 1))
        }
    </style>




    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.2.0/mdb.min.js"></script>


    <section class="vh-100" style="background-color: #508bfc;">
        <div class="container py-5 h-100">
            <div class="row d-flex justify-content-center align-items-center h-100">
                <div class="col-12 col-md-8 col-lg-6 col-xl-5">
                    <div class="card shadow-2-strong" style="border-radius: 1rem;">
                        <div class="card-body p-5 text-center">

                            <h3 class="mb-5">Sign in</h3>


                            <div class="form-outline mb-4 ">
                                <input type="email" id="typeEmailX-2" class="form-control form-control-lg" />
                                <label class="form-label" for="typeEmailX-2">Email</label>
                            </div>

                            <div class="form-outline mb-4">
                                <input type="password" id="typePasswordX-2" class="form-control form-control-lg" />
                                <label class="form-label" for="typePasswordX-2">Password</label>
                            </div>

                            <!-- Checkbox
                            <div class="form-check d-flex justify-content-start mb-4">
                                <input class="form-check-input" type="checkbox" value="" id="form1Example3" />
                                <label class="form-check-label" for="form1Example3"> Remember password </label>
                            </div> -->

                            <button class="btn btn-primary btn-lg btn-block" onclick="login()"
                                type="submit">Login</button>

                            <hr class="my-4">

                            <button class="btn btn-lg btn-block btn-primary" style="background-color: #dd4b39;"
                                type="submit" onclick="g_login()"><i class="fab fa-google me-2"></i> Sign in with
                                google</button>
                            <!-- <button class="btn btn-lg btn-block btn-primary mb-2" style="background-color: #3b5998;"
                                type="submit"><i class="fab fa-facebook-f me-2"></i>Sign in with facebook</button> -->

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>







    <script>

        const firebaseConfig = {
            apiKey: "AIzaSyCDf3E7flil5YRofQMoheLbDCRyikQpEbo",
            authDomain: "anti-theft-c292c.firebaseapp.com",
            databaseURL: "https://anti-theft-c292c-default-rtdb.firebaseio.com",
            projectId: "anti-theft-c292c",
            storageBucket: "anti-theft-c292c.appspot.com",
            messagingSenderId: "420182575590",
            appId: "1:420182575590:web:c4ebc15d55606b127f2e27",
            measurementId: "G-2DTCJK9VYZ"
            // ...
        };


        firebase.initializeApp(firebaseConfig);

        const auth = firebase.auth();

        // Email/password sign-in

        function login() {
            const email = document.getElementById("typeEmailX-2").value;
            const password = document.getElementById("typePasswordX-2").value;
            auth.signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    // Signed in
                    const user = userCredential.user.uid;
                    document.cookie = "uid=" + user;
                    console.log(user);

                    window.location.href = "dashboard.html";

                    // alert("Login success"+user);
                })
                .catch((error) => {
                    console.error(error);
                    alert("error:" + error);
                });
        }

        // Google sign-in
        function g_login() {
            const googleAuthProvider = new firebase.auth.GoogleAuthProvider();
            auth.signInWithPopup(googleAuthProvider)
                .then((userCredential) => {


                    // Signed in
                    const user = userCredential.user.providerData;
                    document.cookie = "uid=" + user[0].uid;
                    document.cookie = "name=" + user[0].displayName;
                    console.log(user[0]);


                    window.location.href ="dashboard.html";

                    alert("Login success" + user);
                })
                .catch((error) => {
                    console.error(error);
                });
        }

        // auth.signOut()
        //     .then(() => {
        //         // Signed out
        //     })
        //     .catch((error) => {
        //         console.error(error);
        //     });




    </script>
</body>

</html>
